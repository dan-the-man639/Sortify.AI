{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { CodedError } from '@unimodules/core';\nimport { FlipType } from \"./ImageManipulator.types\";\nfunction resampleSingle(canvas, width, height) {\n  var resizeCanvas = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var widthSource = canvas.width;\n  var heightSource = canvas.height;\n  width = Math.round(width);\n  height = Math.round(height);\n  var wRatio = widthSource / width;\n  var hRatio = heightSource / height;\n  var wRatioHalf = Math.ceil(wRatio / 2);\n  var hRatioHalf = Math.ceil(hRatio / 2);\n  var ctx = getContext(canvas);\n  var img = ctx.getImageData(0, 0, widthSource, heightSource);\n  var img2 = ctx.createImageData(width, height);\n  var data = img.data;\n  var data2 = img2.data;\n  for (var j = 0; j < height; j++) {\n    for (var i = 0; i < width; i++) {\n      var x2 = (i + j * width) * 4;\n      var weight = 0;\n      var weights = 0;\n      var weightsAlpha = 0;\n      var gx_r = 0;\n      var gx_g = 0;\n      var gx_b = 0;\n      var gx_a = 0;\n      var yCenter = (j + 0.5) * hRatio;\n      var yy_start = Math.floor(j * hRatio);\n      var yy_stop = Math.ceil((j + 1) * hRatio);\n      for (var yy = yy_start; yy < yy_stop; yy++) {\n        var dy = Math.abs(yCenter - (yy + 0.5)) / hRatioHalf;\n        var center_x = (i + 0.5) * wRatio;\n        var w0 = dy * dy;\n        var xx_start = Math.floor(i * wRatio);\n        var xx_stop = Math.ceil((i + 1) * wRatio);\n        for (var xx = xx_start; xx < xx_stop; xx++) {\n          var dx = Math.abs(center_x - (xx + 0.5)) / wRatioHalf;\n          var w = Math.sqrt(w0 + dx * dx);\n          if (w >= 1) {\n            continue;\n          }\n          weight = 2 * w * w * w - 3 * w * w + 1;\n          var xPosition = 4 * (xx + yy * widthSource);\n          gx_a += weight * data[xPosition + 3];\n          weightsAlpha += weight;\n          if (data[xPosition + 3] < 255) {\n            weight = weight * data[xPosition + 3] / 250;\n          }\n          gx_r += weight * data[xPosition];\n          gx_g += weight * data[xPosition + 1];\n          gx_b += weight * data[xPosition + 2];\n          weights += weight;\n        }\n      }\n      data2[x2] = gx_r / weights;\n      data2[x2 + 1] = gx_g / weights;\n      data2[x2 + 2] = gx_b / weights;\n      data2[x2 + 3] = gx_a / weightsAlpha;\n    }\n  }\n  if (resizeCanvas) {\n    canvas.width = width;\n    canvas.height = height;\n  } else {\n    ctx.clearRect(0, 0, widthSource, heightSource);\n  }\n  ctx.putImageData(img2, 0, 0);\n}\nfunction sizeFromAngle(width, height, angle) {\n  var radians = angle * Math.PI / 180;\n  var c = Math.cos(radians);\n  var s = Math.sin(radians);\n  if (s < 0) {\n    s = -s;\n  }\n  if (c < 0) {\n    c = -c;\n  }\n  return {\n    width: height * s + width * c,\n    height: height * c + width * s\n  };\n}\nfunction cropImage(canvas, image) {\n  var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var width = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var height = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n  var context = getContext(canvas);\n  context.save();\n  context.drawImage(image, x, y, width, height, 0, 0, width, height);\n}\nfunction drawImage(canvas, img) {\n  var x = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var y = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var angle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var xFlip = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var yFlip = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n  var width = arguments.length > 7 ? arguments[7] : undefined;\n  var height = arguments.length > 8 ? arguments[8] : undefined;\n  var context = getContext(canvas);\n  context.save();\n  if (width == null) {\n    width = img.naturalWidth;\n  }\n  if (height == null) {\n    height = img.naturalHeight;\n  }\n  context.translate(x + canvas.width / 2, y + canvas.height / 2);\n  var radians = 2 * Math.PI - angle * Math.PI / 180;\n  context.rotate(radians);\n  var xScale = xFlip ? -1 : 1;\n  var yScale = yFlip ? -1 : 1;\n  context.scale(xScale, yScale);\n  context.drawImage(img, -img.naturalWidth / 2, -img.naturalHeight / 2, img.naturalWidth, img.naturalHeight);\n  context.restore();\n  return context;\n}\nfunction getContext(canvas) {\n  var ctx = canvas.getContext('2d');\n  if (!ctx) {\n    throw new CodedError('ERR_IMAGE_MANIPULATOR', 'Failed to create canvas context');\n  }\n  return ctx;\n}\nfunction getResults(canvas, options) {\n  var base64;\n  if (options) {\n    var _options$format = options.format,\n      format = _options$format === void 0 ? 'png' : _options$format;\n    if (options.format === 'png' && options.compress !== undefined) {\n      console.warn('compress is not supported with png format.');\n    }\n    var quality = Math.min(1, Math.max(0, options.compress || 1));\n    base64 = canvas.toDataURL('image/' + format, quality);\n  } else {\n    base64 = canvas.toDataURL();\n  }\n  return {\n    uri: base64,\n    width: canvas.width,\n    height: canvas.height,\n    base64: base64\n  };\n}\nfunction loadImageAsync(uri) {\n  return new Promise(function (resolve, reject) {\n    var imageSource = new Image();\n    imageSource.onload = function () {\n      return resolve(imageSource);\n    };\n    imageSource.onerror = function () {\n      return reject(imageSource);\n    };\n    imageSource.src = uri;\n  });\n}\nfunction manipulateWithActionAsync(uri, action, options) {\n  var canvas, imageSource, crop, _crop$originX, originX, _crop$originY, originY, _crop$width, width, _crop$height, height, clamp, resize, _width, _height, imageRatio, requestedWidth, requestedHeight, context, flip, xFlip, yFlip, rotate, _sizeFromAngle, _width2, _height2, _context;\n  return _regeneratorRuntime.async(function manipulateWithActionAsync$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          canvas = document.createElement('canvas');\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(loadImageAsync(uri));\n        case 3:\n          imageSource = _context2.sent;\n          canvas.width = imageSource.naturalWidth;\n          canvas.height = imageSource.naturalHeight;\n          if (!action.crop) {\n            _context2.next = 23;\n            break;\n          }\n          crop = action.crop;\n          _crop$originX = crop.originX, originX = _crop$originX === void 0 ? 0 : _crop$originX, _crop$originY = crop.originY, originY = _crop$originY === void 0 ? 0 : _crop$originY, _crop$width = crop.width, width = _crop$width === void 0 ? 0 : _crop$width, _crop$height = crop.height, height = _crop$height === void 0 ? 0 : _crop$height;\n          clamp = function clamp(value, max) {\n            return Math.max(0, Math.min(max, value));\n          };\n          width = clamp(width, canvas.width);\n          height = clamp(height, canvas.height);\n          originX = clamp(originX, canvas.width);\n          originY = clamp(originY, canvas.height);\n          width = Math.min(originX + width, canvas.width);\n          height = Math.min(originY + height, canvas.height);\n          if (!(originX - width === 0 || originY - height === 0)) {\n            _context2.next = 18;\n            break;\n          }\n          throw new CodedError('ERR_IMAGE_MANIPULATOR_CROP', 'Crop size must be greater than 0: ' + JSON.stringify(crop, null, 2));\n        case 18:\n          canvas.width = width;\n          canvas.height = height;\n          cropImage(canvas, imageSource, originX, originY, width, height);\n          _context2.next = 24;\n          break;\n        case 23:\n          if (action.resize) {\n            resize = action.resize;\n            _width = resize.width, _height = resize.height;\n            imageRatio = imageSource.naturalWidth / imageSource.naturalHeight;\n            requestedWidth = 0;\n            requestedHeight = 0;\n            if (_width !== undefined) {\n              requestedWidth = _width;\n              requestedHeight = requestedWidth / imageRatio;\n            }\n            if (_height !== undefined) {\n              requestedHeight = _height;\n              if (requestedWidth === 0) {\n                requestedWidth = requestedHeight * imageRatio;\n              }\n            }\n            context = getContext(canvas);\n            context.save();\n            context.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n            resampleSingle(canvas, requestedWidth, requestedHeight, true);\n          } else if (action.flip !== undefined) {\n            flip = action.flip;\n            xFlip = flip === FlipType.Horizontal;\n            yFlip = flip === FlipType.Vertical;\n            drawImage(canvas, imageSource, 0, 0, 0, xFlip, yFlip);\n          } else if (action.rotate !== undefined) {\n            rotate = action.rotate;\n            _sizeFromAngle = sizeFromAngle(imageSource.naturalWidth, imageSource.naturalHeight, rotate), _width2 = _sizeFromAngle.width, _height2 = _sizeFromAngle.height;\n            canvas.width = _width2;\n            canvas.height = _height2;\n            drawImage(canvas, imageSource, 0, 0, rotate, false, false, _width2, _height2);\n          } else {\n            _context = getContext(canvas);\n            _context.save();\n            _context.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n          }\n        case 24:\n          return _context2.abrupt(\"return\", getResults(canvas, options));\n        case 25:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport default {\n  get name() {\n    return 'ExpoImageManipulator';\n  },\n  manipulateAsync: function manipulateAsync(uri) {\n    var actions,\n      options,\n      canvas,\n      imageSource,\n      ctx,\n      output,\n      i,\n      action,\n      _options,\n      _args2 = arguments;\n    return _regeneratorRuntime.async(function manipulateAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actions = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : [];\n            options = _args2.length > 2 ? _args2[2] : undefined;\n            if (actions.length) {\n              _context3.next = 14;\n              break;\n            }\n            canvas = document.createElement('canvas');\n            _context3.next = 6;\n            return _regeneratorRuntime.awrap(loadImageAsync(uri));\n          case 6:\n            imageSource = _context3.sent;\n            canvas.width = imageSource.naturalWidth;\n            canvas.height = imageSource.naturalHeight;\n            ctx = getContext(canvas);\n            ctx.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n            return _context3.abrupt(\"return\", getResults(canvas, options));\n          case 14:\n            i = 0;\n          case 15:\n            if (!(i < actions.length)) {\n              _context3.next = 25;\n              break;\n            }\n            action = actions[i];\n            _options = void 0;\n            if (i === actions.length - 1) {\n              _options = options;\n            }\n            _context3.next = 21;\n            return _regeneratorRuntime.awrap(manipulateWithActionAsync(uri || output.uri, action, _options));\n          case 21:\n            output = _context3.sent;\n          case 22:\n            i++;\n            _context3.next = 15;\n            break;\n          case 25:\n            return _context3.abrupt(\"return\", output);\n          case 26:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n};","map":{"version":3,"names":["CodedError","FlipType","resampleSingle","canvas","width","height","resizeCanvas","arguments","length","undefined","widthSource","heightSource","Math","round","wRatio","hRatio","wRatioHalf","ceil","hRatioHalf","ctx","getContext","img","getImageData","img2","createImageData","data","data2","j","i","x2","weight","weights","weightsAlpha","gx_r","gx_g","gx_b","gx_a","yCenter","yy_start","floor","yy_stop","yy","dy","abs","center_x","w0","xx_start","xx_stop","xx","dx","w","sqrt","xPosition","clearRect","putImageData","sizeFromAngle","angle","radians","PI","c","cos","s","sin","cropImage","image","x","y","context","save","drawImage","xFlip","yFlip","naturalWidth","naturalHeight","translate","rotate","xScale","yScale","scale","restore","getResults","options","base64","_options$format","format","compress","console","warn","quality","min","max","toDataURL","uri","loadImageAsync","Promise","resolve","reject","imageSource","Image","onload","onerror","src","manipulateWithActionAsync","action","crop","_crop$originX","originX","_crop$originY","originY","_crop$width","_crop$height","clamp","resize","_width","_height","imageRatio","requestedWidth","requestedHeight","flip","_sizeFromAngle","_width2","_height2","_context","_regeneratorRuntime","async","manipulateWithActionAsync$","_context2","prev","next","document","createElement","awrap","sent","value","JSON","stringify","Horizontal","Vertical","abrupt","stop","name","manipulateAsync","actions","output","_options","_args2","manipulateAsync$","_context3"],"sources":["/Users/rihong/Documents/Github/SortifyAI/node_modules/expo-image-manipulator/src/ExpoImageManipulator.web.ts"],"sourcesContent":["import { CodedError } from '@unimodules/core';\n\nimport {\n  ImageResult,\n  SaveOptions,\n  Action,\n  ActionCrop,\n  ActionResize,\n  ActionFlip,\n  ActionRotate,\n  FlipType,\n} from './ImageManipulator.types';\n\n/**\n * Hermite resize - fast image resize/resample using Hermite filter. 1 cpu version!\n * https://stackoverflow.com/a/18320662/4047926\n *\n * @param {HtmlElement} canvas\n * @param {int} width\n * @param {int} height\n * @param {boolean} resizeCanvas if true, canvas will be resized. Optional.\n */\nfunction resampleSingle(\n  canvas: HTMLCanvasElement,\n  width: number,\n  height: number,\n  resizeCanvas: boolean = false\n): void {\n  const widthSource = canvas.width;\n  const heightSource = canvas.height;\n  width = Math.round(width);\n  height = Math.round(height);\n\n  const wRatio = widthSource / width;\n  const hRatio = heightSource / height;\n  const wRatioHalf = Math.ceil(wRatio / 2);\n  const hRatioHalf = Math.ceil(hRatio / 2);\n\n  const ctx = getContext(canvas);\n\n  const img = ctx.getImageData(0, 0, widthSource, heightSource);\n  const img2 = ctx.createImageData(width, height);\n  const data = img.data;\n  const data2 = img2.data;\n\n  for (let j = 0; j < height; j++) {\n    for (let i = 0; i < width; i++) {\n      const x2 = (i + j * width) * 4;\n      let weight = 0;\n      let weights = 0;\n      let weightsAlpha = 0;\n      let gx_r = 0;\n      let gx_g = 0;\n      let gx_b = 0;\n      let gx_a = 0;\n      const yCenter = (j + 0.5) * hRatio;\n      const yy_start = Math.floor(j * hRatio);\n      const yy_stop = Math.ceil((j + 1) * hRatio);\n      for (let yy = yy_start; yy < yy_stop; yy++) {\n        const dy = Math.abs(yCenter - (yy + 0.5)) / hRatioHalf;\n        const center_x = (i + 0.5) * wRatio;\n        const w0 = dy * dy; //pre-calc part of w\n        const xx_start = Math.floor(i * wRatio);\n        const xx_stop = Math.ceil((i + 1) * wRatio);\n        for (let xx = xx_start; xx < xx_stop; xx++) {\n          const dx = Math.abs(center_x - (xx + 0.5)) / wRatioHalf;\n          const w = Math.sqrt(w0 + dx * dx);\n          if (w >= 1) {\n            //pixel too far\n            continue;\n          }\n          //hermite filter\n          weight = 2 * w * w * w - 3 * w * w + 1;\n          const xPosition = 4 * (xx + yy * widthSource);\n          //alpha\n          gx_a += weight * data[xPosition + 3];\n          weightsAlpha += weight;\n          //colors\n          if (data[xPosition + 3] < 255) {\n            weight = (weight * data[xPosition + 3]) / 250;\n          }\n          gx_r += weight * data[xPosition];\n          gx_g += weight * data[xPosition + 1];\n          gx_b += weight * data[xPosition + 2];\n          weights += weight;\n        }\n      }\n      data2[x2] = gx_r / weights;\n      data2[x2 + 1] = gx_g / weights;\n      data2[x2 + 2] = gx_b / weights;\n      data2[x2 + 3] = gx_a / weightsAlpha;\n    }\n  }\n  //clear and resize canvas\n  if (resizeCanvas) {\n    canvas.width = width;\n    canvas.height = height;\n  } else {\n    ctx.clearRect(0, 0, widthSource, heightSource);\n  }\n\n  //draw\n  ctx.putImageData(img2, 0, 0);\n}\n\nfunction sizeFromAngle(\n  width: number,\n  height: number,\n  angle: number\n): { width: number; height: number } {\n  const radians = (angle * Math.PI) / 180;\n  let c = Math.cos(radians);\n  let s = Math.sin(radians);\n  if (s < 0) {\n    s = -s;\n  }\n  if (c < 0) {\n    c = -c;\n  }\n  return { width: height * s + width * c, height: height * c + width * s };\n}\n\nfunction cropImage(\n  canvas: HTMLCanvasElement,\n  image: HTMLImageElement,\n  x: number = 0,\n  y: number = 0,\n  width: number = 0,\n  height: number = 0\n): void {\n  const context = getContext(canvas);\n  context.save();\n  context.drawImage(image, x, y, width, height, 0, 0, width, height);\n}\n\nfunction drawImage(\n  canvas: HTMLCanvasElement,\n  img: HTMLImageElement,\n  x: number = 0,\n  y: number = 0,\n  angle: number = 0,\n  xFlip: boolean = false,\n  yFlip: boolean = false,\n  width?: number,\n  height?: number\n): CanvasRenderingContext2D {\n  const context = getContext(canvas);\n  context.save();\n\n  if (width == null) {\n    width = img.naturalWidth as number;\n  }\n  if (height == null) {\n    height = img.naturalHeight as number;\n  }\n\n  // Set the origin to the center of the image\n  context.translate(x + canvas.width / 2, y + canvas.height / 2);\n\n  // Rotate the canvas around the origin\n  const radians = 2 * Math.PI - (angle * Math.PI) / 180;\n  context.rotate(radians);\n\n  // Flip/flop the canvas\n  const xScale = xFlip ? -1 : 1;\n  const yScale = yFlip ? -1 : 1;\n\n  context.scale(xScale, yScale);\n\n  // Draw the image\n  context.drawImage(\n    img,\n    -img.naturalWidth / 2,\n    -img.naturalHeight / 2,\n    img.naturalWidth,\n    img.naturalHeight\n  );\n\n  context.restore();\n  return context;\n}\n\nfunction getContext(canvas: HTMLCanvasElement): CanvasRenderingContext2D {\n  const ctx = canvas.getContext('2d');\n  if (!ctx) {\n    throw new CodedError('ERR_IMAGE_MANIPULATOR', 'Failed to create canvas context');\n  }\n  return ctx;\n}\n\nfunction getResults(canvas: HTMLCanvasElement, options?: SaveOptions): ImageResult {\n  let base64;\n  if (options) {\n    const { format = 'png' } = options;\n    if (options.format === 'png' && options.compress !== undefined) {\n      console.warn('compress is not supported with png format.');\n    }\n    const quality = Math.min(1, Math.max(0, options.compress || 1));\n    base64 = canvas.toDataURL('image/' + format, quality);\n  } else {\n    // defaults to PNG with no loss\n    base64 = canvas.toDataURL();\n  }\n  return {\n    uri: base64,\n    width: canvas.width,\n    height: canvas.height,\n    base64,\n  };\n}\n\nfunction loadImageAsync(uri: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const imageSource = new Image();\n    imageSource.onload = () => resolve(imageSource);\n    imageSource.onerror = () => reject(imageSource);\n    imageSource.src = uri;\n  });\n}\n\nasync function manipulateWithActionAsync(\n  uri: string,\n  action: Action,\n  options: SaveOptions\n): Promise<ImageResult> {\n  const canvas = document.createElement('canvas');\n  const imageSource = await loadImageAsync(uri);\n  canvas.width = imageSource.naturalWidth;\n  canvas.height = imageSource.naturalHeight;\n\n  if ((action as ActionCrop).crop) {\n    const { crop } = action as ActionCrop;\n    // ensure values are defined.\n    let { originX = 0, originY = 0, width = 0, height = 0 } = crop;\n    const clamp = (value, max) => Math.max(0, Math.min(max, value));\n    // lock within bounds.\n    width = clamp(width, canvas.width);\n    height = clamp(height, canvas.height);\n    originX = clamp(originX, canvas.width);\n    originY = clamp(originY, canvas.height);\n\n    // lock sum of crop.\n    width = Math.min(originX + width, canvas.width);\n    height = Math.min(originY + height, canvas.height);\n\n    if (originX - width === 0 || originY - height === 0) {\n      throw new CodedError(\n        'ERR_IMAGE_MANIPULATOR_CROP',\n        'Crop size must be greater than 0: ' + JSON.stringify(crop, null, 2)\n      );\n    }\n\n    // change size of canvas.\n    canvas.width = width;\n    canvas.height = height;\n\n    cropImage(canvas, imageSource, originX, originY, width, height);\n  } else if ((action as ActionResize).resize) {\n    const { resize } = action as ActionResize;\n    const { width, height } = resize;\n\n    const imageRatio = imageSource.naturalWidth / imageSource.naturalHeight;\n\n    let requestedWidth: number = 0;\n    let requestedHeight: number = 0;\n    if (width !== undefined) {\n      requestedWidth = width;\n      requestedHeight = requestedWidth / imageRatio;\n    }\n    if (height !== undefined) {\n      requestedHeight = height;\n      if (requestedWidth === 0) {\n        requestedWidth = requestedHeight * imageRatio;\n      }\n    }\n\n    const context = getContext(canvas);\n    context.save();\n    context.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n\n    resampleSingle(canvas, requestedWidth, requestedHeight, true);\n  } else if ((action as ActionFlip).flip !== undefined) {\n    const { flip } = action as ActionFlip;\n    const xFlip = flip === FlipType.Horizontal;\n    const yFlip = flip === FlipType.Vertical;\n    drawImage(canvas, imageSource, 0, 0, 0, xFlip, yFlip);\n  } else if ((action as ActionRotate).rotate !== undefined) {\n    const { rotate } = action as ActionRotate;\n    const { width, height } = sizeFromAngle(\n      imageSource.naturalWidth,\n      imageSource.naturalHeight,\n      rotate\n    );\n    canvas.width = width;\n    canvas.height = height;\n    drawImage(canvas, imageSource, 0, 0, rotate, false, false, width, height);\n  } else {\n    const context = getContext(canvas);\n    context.save();\n    context.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n  }\n  return getResults(canvas, options);\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoImageManipulator';\n  },\n  async manipulateAsync(\n    uri: string,\n    actions: Action[] = [],\n    options: SaveOptions\n  ): Promise<ImageResult> {\n    if (!actions.length) {\n      const canvas = document.createElement('canvas');\n      const imageSource = await loadImageAsync(uri);\n      canvas.width = imageSource.naturalWidth;\n      canvas.height = imageSource.naturalHeight;\n      const ctx = getContext(canvas);\n      ctx.drawImage(imageSource, 0, 0, imageSource.naturalWidth, imageSource.naturalHeight);\n      return getResults(canvas, options);\n    } else {\n      let output: ImageResult;\n      for (let i = 0; i < actions.length; i++) {\n        const action = actions[i];\n        let _options;\n        if (i === actions.length - 1) {\n          _options = options;\n        }\n        output = await manipulateWithActionAsync(uri || output!.uri, action, _options);\n      }\n      return output!;\n    }\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}